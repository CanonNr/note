#	Api接口安全验证的实例

##	方法一 (初级)



> ​	返回的数据一般分为**xml**和**json**两种情况,在这个过程中，服务器并不知道请求的来源是什么，可能被用户非法调用偷取数据。

### 验证原理

![img](../static/640.webp)

###	原理

从图中可以看得很清楚，前台想要调用接口，需要使用几个参数生成签名。

时间戳：当前时间

随机数：随机生成的随机数

口令：前后台开发时，一个双方都知道的标识，相当于暗号

算法规则：商定好的运算规则，上面三个参数可以利用算法规则生成一个签名。

前台生成一个签名，当需要访问接口的时候，把时间戳，随机数，签名通过URL传递到后台。后台拿到时间戳，随机数后，通过一样的算法规则计算出签名，然后和传递过来的签名进行对比，一样的话，返回数据。



### 算法规则

在前后台交互中，算法规则是非常重要的，前后台都要通过算法规则计算出签名，至于规则怎么制定，看你怎么高兴怎么来。



### 参考

[PHP自学中心 - 微信公众号](https://mp.weixin.qq.com/s?__biz=MzIxMDA0OTcxNA==&mid=2654257218&idx=1&sn=2f39f300d33b62f643ed9aee27ef9576&chksm=8caaef9fbbdd66896836300e8aea73ac1f780c2ac742ce5b2e8fff9c4a52a4e7ad421c4103df&mpshare=1&scene=1&srcid=1009d0K4vA9jgN4ahv0oNEbX#rd)